<ng-container *ngIf="tableState$ | async as state">
  <div class="table-wrapper">
    <ng-container [ngSwitch]="state">
      <ng-container *ngSwitchCase="tableStateEnum.NOT_LOADED">
        <span class="tg-h4 placeholder-text">Click <strong>Generate Table</strong> to create the report</span>
      </ng-container>

      <ng-container *ngSwitchCase="tableStateEnum.LOADING">
        <mat-spinner class="spinner"></mat-spinner>
      </ng-container>

      <ng-container *ngSwitchCase="tableStateEnum.LOADED">
        <ag-grid-angular
          #agGrid
          id="myGrid"
          class="ag-theme-material table-content"
          [columnDefs]="columnDefs$ | async"
          [defaultColDef]="defaultColDef$ | async"
          [rowData]="rowData$ | async"
          [multiSortKey]="'ctrl'"
          [suppressDragLeaveHidesColumns]="true"
          (gridReady)="onGridReady($event)"
          (filterChanged)="onFilterChanged()"
        ></ag-grid-angular>
      </ng-container>
    </ng-container>
  </div>
</ng-container>
