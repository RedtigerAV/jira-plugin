<div class="wrapper">
  <app-header [title]="context.title" [backButtonLink]="'/'">
    <app-header-actions>
      <button
        mat-icon-button
        class="tg-button-icon tg-button-icon--outline"
        (click)="onSettings()"
      >
        <mat-icon class="tg-icon">settings</mat-icon>
      </button>
    </app-header-actions>
  </app-header>

  <div class="layout">
    <div class="control-panel">
      <div class="control-panel__settings">
        <app-tg-card>
          <app-tg-card-title>
            Main settings
          </app-tg-card-title>

          <app-tg-card-content>
            <app-report-settings [context]="context"></app-report-settings>
          </app-tg-card-content>
        </app-tg-card>
      </div>

      <div class="control-panel__filters">
        <app-tg-card>
          <app-tg-card-title>
            Filters
          </app-tg-card-title>
          <app-tg-card-content>
            <app-report-filters [tableID]="context.tableID"></app-report-filters>
          </app-tg-card-content>
        </app-tg-card>
      </div>

      <div class="control-panel__sorts">
        <app-tg-card>
          <app-tg-card-title>
            Sorts
          </app-tg-card-title>
          <app-tg-card-content>
            <app-report-sorts [tableID]="context.tableID"></app-report-sorts>
          </app-tg-card-content>
        </app-tg-card>
      </div>

      <div class="control-panel__actions">
        <app-tg-card>
          <app-tg-card-title>
            Actions
          </app-tg-card-title>
          <app-tg-card-content>
            <app-report-actions></app-report-actions>
          </app-tg-card-content>
        </app-tg-card>
      </div>
    </div>

    <div>
      <app-tg-card>
        <app-tg-card-title>
          Report
        </app-tg-card-title>
        <app-tg-card-content>
          <app-report-table [context]="context"></app-report-table>
        </app-tg-card-content>
      </app-tg-card>
    </div>
  </div>
</div>
