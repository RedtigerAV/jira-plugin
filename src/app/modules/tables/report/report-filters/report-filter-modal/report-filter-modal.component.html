<div class="wrapper">
  <span class="title tg-h4">{{data.title}}</span>
  <div [formGroup]="form">
    <app-input
      label="Название фильтра"
      [formControl]="form.controls.name"
    ></app-input>
  </div>
  <div class="filter">
    <table>
      <tr>
        <th class="tg-p1 tg-p1--bold">Название столбца</th>
        <th class="tg-p1 tg-p1--bold">Фильтр</th>
      </tr>
      <tr *ngFor="let filterState of getColumnsFilters(data.filter)">
        <td>{{filterState.columnPreview.headerName}}</td>
        <td>
          <ng-container *ngIf="filterState.operator">
            <div class="filter__info">
              <span>{{getFilterNameByType(filterState.condition1?.type)}}:&nbsp;</span>
              <span>{{filterState.condition1?.filter}}</span>
              <span *ngIf="filterState.condition1?.filterTo">,&nbsp;{{filterState.condition1?.filterTo}}</span>
            </div>
            <span style="display: block">{{filterState.operator}}</span>
            <div class="filter__info">
              <span>{{getFilterNameByType(filterState.condition2?.type)}}:&nbsp;</span>
              <span>{{filterState.condition2?.filter}}</span>
              <span *ngIf="filterState.condition2?.filterTo">,&nbsp;{{filterState.condition2?.filterTo}}</span>
            </div>
          </ng-container>

          <ng-container *ngIf="!filterState.operator">
            <div class="filter__info">
              <span>{{getFilterNameByType(filterState.type)}}:&nbsp;</span>
              <span>{{filterState.filter}}</span>
              <span *ngIf="filterState.filterTo">,&nbsp;{{filterState.filterTo}}</span>
            </div>
          </ng-container>
        </td>
      </tr>
    </table>
  </div>
  <div class="actions">
    <button class="tg-button" (click)="onSave()">Сохранить</button>
    <button class="tg-button tg-button--outline" (click)="onClose()">Отмена</button>
  </div>
</div>
